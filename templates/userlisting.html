{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
	
{% endblock extra_css %}
{% block content %}
	<!-- Wrapper Start -->
	<div id="wt-wrapper" class="wt-wrapper wt-haslayout">
		<!-- Content Wrapper Start -->
		<div class="wt-contentwrapper">			
			<!--Inner Home Banner Start-->
			<div class="wt-haslayout wt-innerbannerholder">
				<div class="container">
					<div class="row justify-content-md-center">
						<div class="col-xs-12 col-sm-12 col-md-8 push-md-2 col-lg-6 push-lg-3">
							<div class="wt-innerbannercontent">
							<div class="wt-title"><h2>Пошук майстрів</h2></div>
							<ol class="wt-breadcrumb">
								<li><a href="{% url 'home' %}">Головна</a></li>
								<li class="wt-active">Майстри</li>
							</ol>
							</div>
						</div>
					</div>
				</div>
			</div>			
			<!--Inner Home End-->
			<!--Main Start-->
			<main id="wt-main" class="wt-main wt-haslayout wt-innerbgcolor">
				<div class="wt-main-section wt-haslayout">
					<!-- User Listing Start-->
					<div class="wt-haslayout">
						<div class="container">
							<div class="row">
								<div id="wt-twocolumns" class="wt-twocolumns wt-haslayout">
									<div class="col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-4 float-left">
										<div class="wt-usersidebaricon">
											<span class="fa fa-cog wt-usersidebardown">
												<i></i>
											</span>
										</div>
										<aside id="wt-sidebar" class="wt-sidebar wt-usersidebar">
											<div class="wt-widget wt-effectiveholder">
												<div class="wt-widgettitle">
													<h2>Оберіть місто</h2>
												</div>
												<div class="wt-widgetcontent">
													<form class="wt-formtheme wt-formsearch">
														<fieldset>
															<div class="form-group">
																<select class="form-control" 
																		title="Область"
																		id="worker_list_regions"
																		data-url="{% url 'update_cities' %}">
																	<option selected disabled class="text-hide">Область</option>
																	{% for region in regions %}
																	<option value="{{ region.id }}">{{ region.name }}</option>
																	{% endfor %}
																</select>
															</div>
														</fieldset>
														<fieldset id="cities_list" data-url="{% url 'ajax-filter-workers' %}">																																								
															
														</fieldset>
													</form>
												</div>
											</div>
											<div class="wt-widget wt-effectiveholder">
												<div class="wt-widgettitle">
													<h2>Оберіть категорію</h2>
												</div>
												<div class="wt-widgetcontent">
													<form class="wt-formtheme wt-formsearch">
														<fieldset>
															<div class="form-group">
																<select class="form-control" 
																		title="Категорія"
																		id="categories_list"																		
																		data-url="{% url 'update_subcategories' %}">
																	<option selected disabled class="text-hide">Категорія</option>
																	{% for category in categories %}
																	<option value="{{ category.id }}">{{ category.name }}</option>
																	{% endfor %}
																</select>
															</div>
														</fieldset>
														<fieldset id="subcategories_list"
																  {% if pk %}
																  data-pk="{{ pk }}"
																  {% else %}
																  data-pk=""
																  {% endif %}																  
														>												
														</fieldset>
													</form>
												</div>
											</div>																						
										</aside>
									</div>
									<div class="col-xs-12 col-sm-12 col-md-7 col-lg-7 col-xl-8 float-left">
										<div class="wt-userlistingholder wt-userlisting wt-haslayout pages">
											<div class="wt-userlistingtitle">
												<span> <em>Знайдено за пошуком: </em><em id="length">{{ paginator.count }}</em></span>
											</div>
											
											<div class="wt-filterholder" 
												 id="tag" 
												 {% if tag %}
												 data-tag="{{ tag }}"
												 {% else %}
												 data-tag=""
												 {% endif %}
												 >
												{% if tag %}
												<ul class="wt-filtertag">
													<!-- <li class="wt-filtertagclear">
														<a href="javascrip:void(0)"><i class="fa fa-times"></i> <span>Clear All Filter</span></a>
													</li> -->
												 	<li class="alert alert-dismissable ">
														<a href="javascript:void(0);" id="tag-close"><i class="fa fa-times close" data-dismiss="alert" aria-label="close"></i>
															<span>{{ tag }}</span>
														</a>
													</li>													
												</ul>
												{% endif %}
											</div>												
											<div class="items" id="items">
												<div id="workers">
													{% include 'includes/worker_list.html' %}
												</div>	
												<!-- <nav class="wt-pagination">
													<ul>
														{% if page_obj.has_previous %}
														<li class="wt-prevpage">
															<a href="javascript:void(0);" 
															   data-page="{{ page_obj.number|add:'-1' }}"
															   class="paginate">
															   <i class="lnr lnr-chevron-left"></i>
															</a>
														</li>
														{% endif %}
														{% for n in page_obj.paginator.page_range %}
															{% if page_obj.number == n %}
															<li class="wt-active"><a href="javascript:void(0);">{{ n }}</a></li>
															{% elif n > page_obj.number|add:'-3' and n < page_obj.number|add:'3' %}
															<li><a href="javascript:void(0);" data-page="{{ n }}" class="paginate">{{ n }}</a></li>
															{% endif %}
														{% endfor %}													
														{% if page_obj.has_next %}
														<li class="wt-nextpage">
															<a href="javascript:void(0);" 
															   data-page="{{ page_obj.number|add:'1' }}"
															   class="paginate">
															   <i class="lnr lnr-chevron-right"></i>
															</a>
														</li>
														{% endif %}
													</ul>
												</nav> -->
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- User Listing End-->
				</div>
			</main>
			<!--Main End-->
{% endblock content %}			
			